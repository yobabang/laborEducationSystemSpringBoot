<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>吉利学院劳动教育平台</title>
    <link rel="shortcut icon" href="../static/img/head2.png" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="../static/css/task.css">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="../../layui/css/layui.css" media="all">
    <meta name="renderer" content="webkit">
</head>
<body>
<div class="layui-layout layui-layout-admin">
    <div class="layui-header" id="headername">
        <ul class="layui-nav ">
            <li class="layui-nav-item "><a href="">首页</a></li>
            <li class="layui-nav-item layui-this"><a href="">批阅列表</a></li>
            <ul class="layui-nav layui-layout-right">
                <li class="layui-nav-item">
                    <a href="javascript:;">
                        <img src="../static/img/head.png" class="layui-nav-img">
                        {{user.userName}}
                    </a>

                </li>
                <li class="layui-nav-item"><a href="../../login.html">退出</a></li>
            </ul>
        </ul>
    </div>
</div>

<div class="con" style="margin-top: 70px;">
    <table class="layui-hide" id="ID-table-demo-filter"></table>
</div>
<!-- 请勿在项目正式环境中引用该 layui.js 地址 -->
<script src="../../layui/layui.js" charset="utf-8"></script>
<script src="../static/js/jquery.min.js"></script>
<script src="../static/js/axios-0.18.0.js"></script>
<script src="../static/js/vue.js"></script>

<script type="text/html" id="barDemo">
    <div class="layui-clear-space">
        <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
        <a class="layui-btn layui-btn-xs" lay-event="more">
            更多
            <i class="layui-icon layui-icon-down"></i>
        </a>
    </div>
</script>
<script src="//cdn.staticfile.org/layui/2.8.11/layui.js"></script>
<script>
    layui.use(function(){
        var $ = layui.$;
        var table = layui.table;
        // 渲染
        table.render({
            elem: '#ID-table-demo-filter',
            url:'/static/2.8/json/table/user.json', // 此处为静态模拟数据，实际使用时需换成真实接口
            toolbar: 'default',
            height: 315,
            cols: [function(){
                var arr = [
                    {type: 'checkbox', fixed: 'left'},
                    {field:'id', fixed: 'left', width:'15%', title: '学号', sort: true, totalRowText: '合计：'},
                    {field:'username', width:'10%', title: '姓名'},
                    {field:'endTime', title:'提交时间', width: '20%'},
                    {field:'joinTime', title:'状态', width: '15%'},
                    {field:'joinTime', title:'成绩', width: '15%'},
                    {fixed: 'right', title:'操作', width: '10%',  toolbar: '#barDemo'}
                ];

                // 初始化筛选状态
                var local = layui.data('table-filter-test'); // 获取对应的本地记录
                layui.each(arr, function(index, item){
                    if(item.field in local){
                        item.hide = local[item.field];
                    }
                });
                return arr;
            }() ],
            done: function(){
                // 记录筛选状态
                var that = this;
                that.elem.next().on('mousedown', 'input[lay-filter="LAY_TABLE_TOOL_COLS"]+', function(){
                    var input = $(this).prev()[0];
                    // 此处表名可任意定义
                    layui.data('table-filter-test', {
                        key: input.name
                        ,value: input.checked
                    })
                });
            }
        });
    });
</script>


</body>
</html>