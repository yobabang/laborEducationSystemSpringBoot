<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>吉利学院劳动教育平台</title>
  <link href="//unpkg.com/layui@2.8.4/dist/css/layui.css" rel="stylesheet">
  <link rel="shortcut icon" href="../static/img/head2.png" type="image/x-icon">
  <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .center-container {
            margin: 0 auto;
            width: fit-content;
        }
    </style>
</head>
<body>
<div class="layui-layout layui-layout-admin">
  <div class="layui-header" id="headername">
    <ul class="layui-nav ">
      <li class="layui-nav-item"><a href="task_list.html">首页</a></li>
      <li class="layui-nav-item layui-this"><a href="labour_log.html">日常生活劳动日志</a></li>
      <ul class="layui-nav layui-layout-right">
        <li class="layui-nav-item">
          <a href="javascript:;">
            <img src="../static/img/head.png" class="layui-nav-img">
            {{user.userName}}
          </a>

        </li>
        <li class="layui-nav-item"><a href="../../login.html">退出</a></li>
      </ul>
    </ul>
  </div>

</div>
<br>
<br>
<br>
<br>
<div class="con" style="margin-top: 60px;">
  <form class="layui-form layui-form-pane" action="" method="post"><!--未指定uil-->
    <div class="layui-form-item">
      <div class="layui-inline">
        <label class="layui-form-label">本科类型</label>
        <div class="layui-input-inline">
          <input type="text" name="user_type" autocomplete="off" class="layui-input" required>
        </div>
      </div>

      <div class="layui-inline">
        <label class="layui-form-label">年级班级</label>
        <div class="layui-input-inline">
          <input type="text" name="log_classes" autocomplete="off" class="layui-input" required>
        </div>
      </div>

      <div class="layui-inline">
        <label class="layui-form-label">劳动类型</label>
        <div class="layui-input-inline">
          <input type="text" name="log_type" autocomplete="off" class="layui-input" required>
        </div>
      </div>

      <div class="layui-inline">
        <label class="layui-form-label">劳动内容</label>
        <div class="layui-input-inline">
          <input type="text" name="log_content" autocomplete="off" class="layui-input" required>
        </div>
      </div>

      <div class="layui-inline">
        <label class="layui-form-label">劳动地点</label>
        <div class="layui-input-inline">
          <input type="text" name="location" autocomplete="off" class="layui-input" required>
        </div>
      </div>
    </div>
    <div class="layui-form-item layui-form-text">
      <label class="layui-form-label">劳动过程</label>
      <div class="layui-input-block">
        <textarea placeholder="请输入内容" name="labour_course" class="layui-textarea"></textarea>
      </div>
    </div>

    <div class="layui-form-item layui-form-text">
      <label class="layui-form-label">劳动效果</label>
      <div class="layui-input-block">
        <textarea placeholder="请输入内容" name="labour_result" class="layui-textarea"></textarea>
      </div>
    </div>


    <div class="layui-form-item layui-form-text">
      <label class="layui-form-label">劳动感受</label>
      <div class="layui-input-block">
        <textarea placeholder="请输入内容" name="labour_feel" class="layui-textarea"></textarea>
      </div>
    </div>


    <div class="center-container">
      <div class="layui-form-item">
        <label class="layui-form-label">劳动时间</label>
        <div class="layui-input-inline">
          <input type="text" class="layui-input" name="log_time" id="ID-laydate-shortcut-date">
        </div>

        <label class="layui-form-label">本人签字</label>
        <div class="layui-input-inline">
          <input type="text" name="log_name" autocomplete="off" class="layui-input" placeholder="打印后签字">
        </div>

        <label class="layui-form-label">证明人</label>
        <div class="layui-input-inline">
          <input type="text" name="????" autocomplete="off" class="layui-input" placeholder="打印后签字">
        </div>
      </div>
    </div>


  </form>
</div>
<!-- 请勿在项目正式环境中引用该 layui.js 地址 -->
<script src="//unpkg.com/layui@2.8.4/dist/layui.js"></script>
<!-- 请勿在项目正式环境中引用该 layui.js 地址 -->
<script src="//unpkg.com/layui@2.8.6/dist/layui.js"></script>
<script>
//日期组件
    layui.use(function(){
        var laydate = layui.laydate;
        var util = layui.util;
        /*
         * 快捷选项
         */
        // 日期
        laydate.render({
            elem: "#ID-laydate-shortcut-date",
            shortcuts: [
                {
                    text: "昨天",
                    value: function(){
                        var now = new Date();
                        now.setDate(now.getDate() - 1);
                        return now;
                    }()
                },
                { text: "今天", value: Date.now() },
                {
                    text: "明天",
                    value: function(){
                        var now = new Date();
                        now.setDate(now.getDate() + 1);
                        return now;
                    }()
                },
                {
                    text: "上个月",
                    value: function(){
                        var now = new Date();
                        // now.setDate(now.getDate() - 1);
                        now.setMonth(now.getMonth() - 1);
                        return [now];
                    }()
                },
                {
                    text: "上个月的前一天",
                    value: function(){
                        var now = new Date();
                        now.setMonth(now.getMonth() - 1);
                        now.setDate(now.getDate() - 1);
                        return [now];
                    }()
                },
                {
                    text: "某一天",
                    value: "2016-10-14"
                }
            ]
        });
        // 年份
        laydate.render({
            elem: "#ID-laydate-shortcut-year",
            type: "year",
            shortcuts: [
                {
                    text: "去年",
                    value: function(){
                        var now = new Date();
                        now.setFullYear(now.getFullYear() - 1);
                        return now;
                    }()
                },
                {
                    text: "明年",
                    value: function(){
                        var now = new Date();
                        now.setFullYear(now.getFullYear() + 1);
                        return now;
                    }()
                }
            ]
        });
        // 年月
        laydate.render({
            elem: "#ID-laydate-shortcut-month",
            type: "month",
            shortcuts: [
                {
                    text: "上个月",
                    value: function(){
                        var now = new Date();
                        now.setMonth(now.getMonth() - 1);
                        return now;
                    }()
                },
                {
                    text: "下个月",
                    value: function(){
                        var now = new Date();
                        now.setMonth(now.getMonth() + 1);
                        return now;
                    }()
                },
                {
                    text: "去年12月",
                    value: function(){
                        var now = new Date();
                        now.setMonth(11);
                        now.setFullYear(now.getFullYear() - 1);
                        return now;
                    }()
                }
            ]
        });
        // 时间
        laydate.render({
            elem: "#ID-laydate-shortcut-time",
            type: "time",
            shortcuts: function(){ // 生成 30 分钟间隔的时间列表
                var value = [];
                var now = new Date();
                now.setHours(0, 0, 0, 0);
                for (var i = 0; i < 48; i++) {
                    var nowTemp = now.setMinutes(now.getMinutes() + (i ? 30 : 0));
                    var nowTimeStr = util.toDateString(nowTemp, "HH:mm:ss");
                    value.push({
                        text: nowTimeStr,
                        value: nowTimeStr
                    });
                }
                return value;
            }()
        });
        // 日期时间
        laydate.render({
            elem: "#ID-laydate-shortcut-datetime",
            type: "datetime",
            shortcuts: [
                {
                    text: "昨天",
                    value: function(){
                        var now = new Date();
                        now.setDate(now.getDate() - 1);
                        return now;
                    }()
                },
                { text: "今天", value: Date.now() },
                {
                    text: "明天",
                    value: function(){
                        var now = new Date();
                        now.setDate(now.getDate() + 1);
                        return now;
                    }()
                },
                {
                    text: "上个月",
                    value: function(){
                        var now = new Date();
                        // now.setDate(now.getDate() - 1);
                        now.setMonth(now.getMonth() - 1);
                        return [now];
                    }()
                },
                {
                    text: "上个月的前一天",
                    value: function(){
                        var now = new Date();
                        now.setMonth(now.getMonth() - 1);
                        now.setDate(now.getDate() - 1);
                        return [now];
                    }()
                },
                {
                    text: "某一天",
                    value: "2016-10-14 00:00:00"
                }
            ]
        });
        // 日期时间全面板
        laydate.render({
            elem: "#ID-laydate-shortcut-datetime-fullPanel",
            type: "datetime",
            fullPanel: true,
            shortcuts: [
                {
                    text: "昨天",
                    value: function(){
                        var now = new Date();
                        now.setDate(now.getDate() - 1);
                        return now;
                    }()
                },
                { text: "今天", value: Date.now() },
                {
                    text: "明天",
                    value: function(){
                        var now = new Date();
                        now.setDate(now.getDate() + 1);
                        return now;
                    }()
                },
                {
                    text: "上个月",
                    value: function(){
                        var now = new Date();
                        // now.setDate(now.getDate() - 1);
                        now.setMonth(now.getMonth() - 1);
                        return [now];
                    }()
                },
                {
                    text: "上个月的前一天",
                    value: function(){
                        var now = new Date();
                        now.setMonth(now.getMonth() - 1);
                        now.setDate(now.getDate() - 1);
                        return [now];
                    }()
                },
                {
                    text: "某一天",
                    value: "2016-10-14 11:32:32"
                }
            ]
        });
        // 日期范围
        laydate.render({
            elem: "#ID-laydate-shortcut-range-date",
            range: true,
            shortcuts: [
                {
                    text: "上个月",
                    value: function(){
                        var value = [];
                        var date1 = new Date();
                        date1.setMonth(date1.getMonth() - 1);
                        date1.setDate(1);
                        date1.setHours(0, 0, 0, 0);
                        value.push(date1);
                        var date2 = new Date();
                        date2.setDate(1);
                        date2.setHours(0, 0, 0, 0);
                        date2 = date2.getTime() - 1;
                        value.push(new Date(date2));
                        return value;
                    }()
                },
                {
                    text: "这个月",
                    value: function(){
                        var value = [];
                        var date1 = new Date();
                        // date1.setMonth(date1.getMonth() - 1);
                        date1.setDate(1);
                        date1.setHours(0, 0, 0, 0);
                        value.push(date1);
                        var date2 = new Date();
                        date2.setMonth(date2.getMonth() + 1);
                        date2.setDate(1);
                        date2.setHours(0, 0, 0, 0);
                        date2 = date2.getTime() - 1;
                        value.push(new Date(date2));
                        return value;
                    }()
                },
                {
                    text: "下个月",
                    value: function(){
                        var value = [];
                        var date1 = new Date();
                        date1.setMonth(date1.getMonth() + 1);
                        date1.setDate(1);
                        date1.setHours(0, 0, 0, 0);
                        value.push(date1);
                        var date2 = new Date();
                        date2.setMonth(date2.getMonth() + 2);
                        date2.setDate(1);
                        date2.setHours(0, 0, 0, 0);
                        date2 = date2.getTime() - 1;
                        value.push(new Date(date2));
                        return value;
                    }()
                }
            ]
        });
        // 年份范围
        laydate.render({
            elem: "#ID-laydate-shortcut-range-year",
            type: "year",
            range: true,
            shortcuts: [
                {
                    text: "过去一年",
                    value: function(){
                        var now = new Date();
                        now.setFullYear(now.getFullYear() - 1);
                        return [now, new Date()];
                    }()
                },
                {
                    text: "未来一年",
                    value: function(){
                        var now = new Date();
                        now.setFullYear(now.getFullYear() + 1);
                        return [new Date(), now];
                    }()
                },
                {
                    text: "近三年",
                    value: function(){
                        var now = new Date();
                        now.setFullYear(now.getFullYear() - 3);
                        return [now, new Date()];
                    }()
                }
            ]
        });
        // 年月范围
        laydate.render({
            elem: "#ID-laydate-shortcut-range-month",
            type: "month",
            range: true,
            shortcuts: [
                {
                    text: "去年",
                    value: function(){
                        var date1 = new Date();
                        date1.setFullYear(date1.getFullYear() - 1, 0, 1);
                        date1.setHours(0, 0, 0, 0);
                        var date2 = new Date();
                        date2.setMonth(0, 1);
                        date2.setHours(0, 0, 0, 0);
                        return [date1, date2.getTime() - 1];
                    }()
                },
                {
                    text: "明年",
                    value: function(){
                        var now = new Date();
                        now.setFullYear(now.getFullYear() + 1);
                        return [now, now];
                    }()
                },
                {
                    text: "近三年",
                    value: function(){
                        var now = new Date();
                        now.setFullYear(now.getFullYear() - 3);
                        return [now, new Date()];
                    }()
                }
            ]
        });
        // 时间范围
        laydate.render({
            elem: "#ID-laydate-shortcut-range-time",
            type: "time",
            range: true,
            shortcuts: [
                {
                    text: '09:30 <p style="text-align: center;">到</p> 11:30',
                    value: (function () {
                        var date1 = new Date();
                        date1.setHours(9, 0, 0, 0);
                        var date2 = new Date();
                        date2.setHours(11, 30, 0, 0);
                        return [date1, date2];
                    })()
                },
                {
                    text: '13:00 <p style="text-align: center;">到</p> 15:00',
                    value: (function () {
                        var date1 = new Date();
                        date1.setHours(13, 0, 0, 0);
                        var date2 = new Date();
                        date2.setHours(15, 0, 0, 0);
                        return [date1, date2];
                    })()
                }
            ]
        });
        // 日期时间范围
        laydate.render({
            elem: "#ID-laydate-shortcut-range-datetime",
            type: "datetime",
            range: true,
            shortcuts: [
                {
                    text: "上个月",
                    value: function(){
                        var value = [];
                        var date1 = new Date();
                        date1.setMonth(date1.getMonth() - 1);
                        date1.setDate(1);
                        date1.setHours(0, 0, 0, 0);
                        value.push(date1);
                        var date2 = new Date();
                        date2.setDate(1);
                        date2.setHours(0, 0, 0, 0);
                        date2 = date2.getTime() - 1;
                        value.push(new Date(date2));
                        return value;
                    }()
                },
                {
                    text: "这个月",
                    value: function(){
                        var value = [];
                        var date1 = new Date();
                        // date1.setMonth(date1.getMonth() - 1);
                        date1.setDate(1);
                        date1.setHours(0, 0, 0, 0);
                        value.push(date1);
                        var date2 = new Date();
                        date2.setMonth(date2.getMonth() + 1);
                        date2.setDate(1);
                        date2.setHours(0, 0, 0, 0);
                        date2 = date2.getTime() - 1;
                        value.push(new Date(date2));
                        return value;
                    }()
                },
                {
                    text: "下个月",
                    value: function(){
                        var value = [];
                        var date1 = new Date();
                        date1.setMonth(date1.getMonth() + 1);
                        date1.setDate(1);
                        date1.setHours(0, 0, 0, 0);
                        value.push(date1);
                        var date2 = new Date();
                        date2.setMonth(date2.getMonth() + 2);
                        date2.setDate(1);
                        date2.setHours(0, 0, 0, 0);
                        date2 = date2.getTime() - 1;
                        value.push(new Date(date2));
                        return value;
                    }()
                }
            ]
        });
    });
</script>
<script src="../static/js/axios-0.18.0.js"></script>
<script src="../static/js/axios-0.18.0.js"></script>
<script src="../static/js/vue.js"></script>
<script>
    let userName = new Vue({
        el: "#headername",
        data(){
            return{
                user:{
                    userName:'测试',
                },
            }
        },
        mounted(){
            //当页面加载完成后来发送异步请求获取数据
            var _this = this;
            axios({
                method:"get",
                url:"/users/session",
            }).then(function (resp){
                _this.user = resp.data.data;
            })
        },
    })
</script>

<!--<script>
    // 获取输入框元素
    const userTypeInput = document.querySelector('input[name="userType"]');
    const logClassesInput = document.querySelector('input[name="logClasses"]');
    const logTypeInput = document.querySelector('input[name="logType"]');

    // 发起异步请求
    fetch('/logs')
        .then(response => response.json())
        .then(data => {
            // 将数据填充到输入框中
            userTypeInput.value = data.user_type;
            logClassesInput.value = data.log_classes;
            logTypeInput.value = data.log_type;
        })
        .catch(error => {
            console.error('请求失败:', error);
        });
</script>-->

<!--<script>
    layui.use(['layer', 'upload'], function () {
        var layer = layui.layer;
        var upload = layui.upload;

        // 多图上传
        upload.render({
            elem: '#uploadBtn',
            url: '/upload/???????????????????????????????????',
            multiple: true,
            done: function (res) {
                // 上传完毕回调
                if (res.code === 0) {
                    // 成功上传
                    var previewContainer = document.getElementById('previewContainer');
                    var imgWidth = '200px';  // 图片宽度
                    var imgHeight = '200px';  // 图片高度
                    var html = '<div class="layui-upload-item">';
                    html += '<img src="' + res.data.url + '" alt="预览图" style="width: ' + imgWidth + '; height: ' + imgHeight + ';">';
                    html += '<div class="layui-upload-item-del" data-url="' + res.data.url + '"><i class="layui-icon layui-icon-close"></i></div></div>';
                    previewContainer.innerHTML += html;
                } else {
                    // 上传失败
                    layer.msg('图片上传失败，请重试');
                }
            }
        });

        // 删除已上传图片
        layui.$(document).on('click', '.layui-upload-item-del', function () {
            var url = layui.$(this).data('url');
            layui.$(this).parent().remove();
            // TODO: 将删除的图片URL从文本框中移除
        });
    });
</script>-->
</body>
</html>